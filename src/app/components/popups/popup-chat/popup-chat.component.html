<div class="popup-wrapper chat-wrapper" (click)="closePopup($event)" [ngClass]="{'popup--active':visible}">
    <div class="popup">
        <div class="chat">
            <div class="chat__archive fw-flex">
                <div class="fw-flex-shrink-no">
                    <ul class="chat__archive-list">
                        <li class="fw-mt-10 active">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle active">
                                <span><i class="icon-chat-messages"></i></span>
                                <span><i class="icon-chat-messages-active"></i></span>
                                <span class="fw-ml-5">Все</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-lips"></i></span>
                                <span><i class="icon-chat-lips-active"></i></span>
                                <span class="fw-ml-5">On-line</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-phone"></i></span>
                                <span><i class="icon-chat-phone-active"></i></span>
                                <span class="fw-ml-5">Звонки</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-check"></i></span>
                                <span><i class="icon-chat-check-active"></i></span>
                                <span class="fw-ml-5">Скрыть удаленные</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-bell"></i></span>
                                <span><i class="icon-chat-bell-active"></i></span>
                                <span class="fw-ml-5">Новые</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-star"></i></span>
                                <span><i class="icon-chat-star-active"></i></span>
                                <span class="fw-ml-5">Избранные</span>
                            </a>
                        </li>
                        <li class="fw-mt-10">
                            <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle">
                                <span><i class="icon-chat-hand"></i></span>
                                <span><i class="icon-chat-hand-active"></i></span>
                                <span class="fw-ml-5">Черный список</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="fw-position-relative fw-mt-40 fw-mb-15 fw-flex fw-flex-grow fw-flex-column">
                    <p class="fw-fz-15 fw-fw-600 fw-flex-shrink-no">Мои папки</p>
                    <perfect-scrollbar #foldersScrollbar class="fw-flex-grow fw-flex fw-flex-column">
                        <ul class="chat__archive-list fw-mt-10" *ngIf="!!folders.length">
                            <li class="fw-mt-10" *ngFor="let folder of folders">
                                <a class="fw-link fw-link--blue fw-fz-14 fw-flex fw-flex-middle ">
                                    <span><i class="icon-chat-folder"></i></span>
                                    <span><i class="icon-chat-folder-active"></i></span>
                                    <span class="fw-ml-5">{{folder.title}}</span>
                                </a>
                            </li>
                        </ul>
                        <div *ngIf="!folders.length" class="fw-mt-10 fw-text-600 fw-color-grey-dark">У вас нет папок
                        </div>
                    </perfect-scrollbar>
                    <app-preloader *ngIf="preloaders.folderList"></app-preloader>
                </div>
                <div class="fw-mt-auto fw-position-relative fw-flex-shrink-no">
                    <a *ngIf="!newFolderForm" (click)="newFolderForm = true;"
                       class="button button--blue button--small fw-width-1-1 fw-flex fw-flex-middle">
                        <i class="icon-plus icon-plus--purple-dark fw-mr-5"></i>
                        <span class="fw-fz-14 fw-text-600 fw-vam">Добавить папку</span>
                    </a>
                    <form (submit)="addNewFolder($event)" [formGroup]="FNewFolder" *ngIf="newFolderForm">
                        <div class="fw-mb-10">
                            <app-input-box formControlName="title" class="fw-width-1-1"
                                           [placeholder]="'Название папки'"></app-input-box>
                        </div>
                        <div>
                            <button class="button button--primary fw-width-1-1">Сохранить</button>
                        </div>
                    </form>
                    <app-preloader *ngIf="preloaders.folderForm"></app-preloader>
                </div>
            </div>
            <div class="chat__messages">
                <div class="chat__header">
                    <div><p class="fw-fw-600 fw-fz-16">Все сообщения</p></div>
                    <div><a><i class="icon-chat-search"></i></a></div>
                </div>
                <perfect-scrollbar class="chat__list list">
                    <div class="list__item list__inbox list__inbox--new">
                        <div>
                            <a class="list__thumbnail"><img src="http://placehold.it/50x50" alt=""></a>
                        </div>
                        <div>
                            <a><h4 class="list__user">Альная 19</h4></a>
                            <p class="list__message">Привет, как дела твои?</p>
                            <p class="list__time">19.05.06 21:00:21</p>
                            <a><i class="list__icon icon-chat-message"></i></a>
                        </div>
                    </div>
                    <div class="list__item list__send">
                        <div>
                            <a class="list__thumbnail"><img src="http://placehold.it/50x50" alt=""></a>
                        </div>
                        <div>
                            <a><h4 class="list__user list__user--offline">Алла, 27</h4></a>
                            <p class="list__message">о отличная идея!</p>
                            <p class="list__time">19.05.06 21:00:21</p>
                            <a><i class="list__icon icon-chat-message"></i></a>
                        </div>
                    </div>
                    <div class="list__item list__inbox">
                        <div>
                            <a class="list__thumbnail"><img src="http://placehold.it/50x50" alt=""></a>
                        </div>
                        <div>
                            <a><h4 class="list__user">Аврора, 23</h4></a>
                            <p class="list__message  list__message--active">позвони прям тут, можно же</p>
                            <p class="list__time">19.05.06 21:00:21</p>
                            <a><i class="list__icon icon-chat-message"></i></a>
                        </div>
                    </div>

                    <div class="list__item" *ngFor="let dialog of dialogs">
                        <div>
                            <a class="list__thumbnail"><img src="http://placehold.it/50x50" alt=""></a>
                        </div>
                        <div>
                            <a><h4 class="list__user">Аврора, 23</h4></a>
                            <p class="list__message  list__message--active">позвони прям тут, можно же</p>
                            <p class="list__time">19.05.06 21:00:21</p>
                            <a><i class="list__icon icon-chat-call-green"></i></a>
                        </div>
                    </div>
                </perfect-scrollbar>
                <app-preloader *ngIf="preloaders.dialogs"></app-preloader>
            </div>
            <div class="chat__content fw-position-relative">
                <app-preloader *ngIf="preloaders.messages"></app-preloader>
                <div class="chat__header chat__header--bordered">
                    <div>
                        <a><i class="icon-chat-call"></i></a>
                    </div>
                    <div class="fw-text-center">
                        <div class="fw-inline-block"><p class="fw-hus fw-hus--offline">Анютка, 25 лет, Москва</p></div>
                        <div><p class="fw-text-warmgrey fw-fz-13">Была последний раз 8 минут назад</p></div>
                    </div>
                    <div class="fw-relative">
                        <a class="fw-mr-15 chat__settings-link"><i class="icon-chat-cog"></i><i
                                class="icon-chat-cog-active"></i></a>
                        <a class="js-close-popup"><i class="icon-chat-close"></i></a>
                        <div class="chat__settings">
                            <div><a class="fw-fz-13">Удалить диалог</a></div>
                            <div><a class="fw-fz-13">Переместить в другую папку</a></div>
                            <div><a class="fw-fz-13">Добавить в избранное</a></div>
                            <div><a class="fw-fz-13">Добавить в черный список</a></div>
                        </div>
                    </div>
                </div>
                <div class="chat__context context fw-flex">
                    <perfect-scrollbar class="fw-flex-grow fw-flex fw-flex-column">
                        <div class="chat__box box" *ngFor="let message of messages">
                            <div class="box__data"><p>1 ноября 2016</p></div>
                            <div class="box__message message message--income">
                                <div class="message__image"><img src="http://placehold.it/32x32" alt=""></div>
                                <p class="message__text">
                                    <span>Привет! Как жизнь?!</span>
                                </p>
                                <p class="message__time">19:10</p>
                            </div>
                            <div class="box__message message">
                                <p class="message__time">19:10</p>
                                <p class="message__text">
                                    <span>Привет! Как жизнь?!</span>
                                </p>
                            </div>
                        </div>
                    </perfect-scrollbar>
                    <div class="context__footer fw-flex-shrink-no fw-pt-15">
                        <form [formGroup]="FMessage" class="chat__new-message fw-flex">
                            <app-input-box formControlName="message" class="fw-flex-grow"
                                           [placeholder]="'Ваше сообщение'"></app-input-box>
                            <button type="submit" class="fw-reset"><i class="icon-chat-send fw-brp-50"></i></button>
                        </form>
                        <div>
                            <div class="chat__new-message-option option">
                                <div>
                                    <a class="option__link">
                                        <i class="icon-chat-smile"></i>
                                        <i class="icon-chat-smile-active"></i>
                                    </a>
                                    <div class="option__sub">
                                        <div class="js-scroll-pane">
                                            <div class="option__container">
                                                <a *ngFor="let item of [1,2,3,4,5]" class="fw-img-square">
                                                    <img src="http://placehold.it/30x30" alt="">
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <a><i class="icon-chat-photo"></i></a>
                                </div>
                                <div>
                                    <a class="option__link"><i class="icon-chat-gift"></i><i
                                            class="icon-chat-gift-active"></i></a>
                                    <div class="option__sub option__sub--presents">
                                        <div class="js-scroll-pane">
                                            <div>
                                                <p class="fw-fw-600 fw-fz-15 fw-text-center">Особенные подарки</p>
                                                <div class="option__container">
                                                    <a *ngFor="let item of [1,2,3,4,5]" class="fw-img-square"><img
                                                            src="http://placehold.it/80x80" alt=""></a>
                                                </div>
                                            </div>
                                            <div class="fw-mt-20">
                                                <p class="fw-fw-600 fw-fz-15 fw-text-center">VIP подарки</p>
                                                <div class="option__container">
                                                    <a *ngFor="let item of [1,2,3,4,5]" class="fw-img-square"><img
                                                            src="http://placehold.it/80x80" alt=""></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <p class="fw-fz-13 fw-text-warmgrey">Для переноса строки нажмите Shift+Enter</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>